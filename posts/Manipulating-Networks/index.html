<!DOCTYPE html><html lang="en" mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="theme" content="Chirpy v2.6.2"><meta name="generator" content="Jekyll v4.1.1" /><meta property="og:title" content="Scikit-RF Tutorial (3) - Manipulating Networks" /><meta name="author" content="Vikram Sekar" /><meta property="og:locale" content="en_US" /><meta name="description" content="In the previous post in this series, we saw how network objects are created from various data sources. In the third article of this series, we look at extracting a subset of the network data, like \(S_{11}\) or \(S_{21}\), either as a network object or as a numpy array. Learning to manipulate network data is important for calculations that can be performed on the data later on, such as lumped element model extractions for transistors or inductors as an example. We will also look at conversion to other two-port network parameters such as Y and Z, and go deeper into handling data units as well." /><meta property="og:description" content="In the previous post in this series, we saw how network objects are created from various data sources. In the third article of this series, we look at extracting a subset of the network data, like \(S_{11}\) or \(S_{21}\), either as a network object or as a numpy array. Learning to manipulate network data is important for calculations that can be performed on the data later on, such as lumped element model extractions for transistors or inductors as an example. We will also look at conversion to other two-port network parameters such as Y and Z, and go deeper into handling data units as well." /><link rel="canonical" href="https://vik-s.github.io/posts/Manipulating-Networks/" /><meta property="og:url" content="https://vik-s.github.io/posts/Manipulating-Networks/" /><meta property="og:site_name" content="rfic.io" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-01-14T21:06:10-08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Scikit-RF Tutorial (3) - Manipulating Networks" /><meta name="twitter:site" content="@vikramskr" /><meta name="twitter:creator" content="@Vikram Sekar" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"description":"In the previous post in this series, we saw how network objects are created from various data sources. In the third article of this series, we look at extracting a subset of the network data, like \\(S_{11}\\) or \\(S_{21}\\), either as a network object or as a numpy array. Learning to manipulate network data is important for calculations that can be performed on the data later on, such as lumped element model extractions for transistors or inductors as an example. We will also look at conversion to other two-port network parameters such as Y and Z, and go deeper into handling data units as well.","url":"https://vik-s.github.io/posts/Manipulating-Networks/","@type":"BlogPosting","headline":"Scikit-RF Tutorial (3) - Manipulating Networks","dateModified":"2021-02-07T06:27:34-08:00","datePublished":"2021-01-14T21:06:10-08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://vik-s.github.io/posts/Manipulating-Networks/"},"author":{"@type":"Person","name":"Vikram Sekar"},"@context":"https://schema.org"}</script><title>Scikit-RF Tutorial (3) - Manipulating Networks | rfic.io</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="preload" href="/assets/css/post.css" as="style"><link rel="stylesheet" href="/assets/css/post.css"><link rel="preload" as="style" href="/assets/css/lib/bootstrap-toc.min.css"><link rel="stylesheet" href="/assets/css/lib/bootstrap-toc.min.css" /> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="/assets/js/post.min.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-DK37RLC614"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-DK37RLC614'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column"><div id="nav-wrapper"><div id="profile-wrapper" class="d-flex flex-column"><div id="avatar" class="d-flex justify-content-center"> <a href="/" alt="avatar"> <img src="/assets/img/sample/logo.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="profile-text mt-3"><div class="site-title"> <a href="/">rfic.io</a></div><div class="site-subtitle font-italic">A blog on RF engineering.</div></div></div><ul class="nav flex-column"><li class="nav-item d-flex justify-content-center "> <a href="/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/categories/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/tags/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/archives/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/about/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul></div><div class="sidebar-bottom d-flex flex-wrap justify-content-around mt-4"> <a href="https://github.com/vik-s" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/vikramskr" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['contact','rfic.io'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Scikit-RF Tutorial (3) - Manipulating Networks</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Scikit-RF Tutorial (3) - Manipulating Networks</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Thu, Jan 14, 2021, 9:06 PM -0800" > Jan 14 <i class="unloaded">2021-01-14T21:06:10-08:00</i> </span> by <span class="author"> Vikram Sekar </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Sun, Feb 7, 2021, 6:27 AM -0800" > Feb 7 <i class="unloaded">2021-02-07T06:27:34-08:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1394 words">7 min</span></div></div><div class="post-content"><p>In the <a href="/posts/The-Network-Class/">previous post</a> in this series, we saw how network objects are created from various data sources. In the third article of this series, we look at extracting a subset of the network data, like \(S_{11}\) or \(S_{21}\), either as a network object or as a numpy array. Learning to manipulate network data is important for calculations that can be performed on the data later on, such as lumped element model extractions for transistors or inductors as an example. We will also look at conversion to other two-port network parameters such as Y and Z, and go deeper into handling data units as well.</p><p>For your reference, here is a list of articles in this series.</p><ol><li><a href="/posts/ScikitRF-Get-Started/">Getting Started</a><li><a href="/posts/The-Network-Class/">The Network() Class</a><li><a href="/posts/Manipulating-Networks/">Manipulating Networks</a> (this article)<li><a href="/posts/Frequency-Slicing/">Frequency Slicing</a><li><a href="/posts/Plotting/">Plotting</a></ol><h1 id="manipulating-network-objects">Manipulating Network Objects</h1><p>Let us say that you would like to look at input return loss of a network, \(S_{11}\). To extract 1-port s-parameters as network objects from an multi-port network object <code class="language-plaintext highlighter-rouge">nw</code>, you can simply access the corresponding network parameter as a property as shown below.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="c1"># extract 1-port objects from multiport objects
</span><span class="n">s11</span> <span class="o">=</span> <span class="n">nw</span><span class="p">.</span><span class="n">s11</span>
<span class="k">print</span><span class="p">(</span><span class="n">s11</span><span class="p">)</span>
</pre></table></code></div></div><p>Output:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>1-Port Network: 'ntwk1',  1.0-10.0 GHz, 91 pts, z0=[50.+0.j]
</pre></table></code></div></div><p>Note that <code class="language-plaintext highlighter-rouge">s11</code> is another network object. Similarly, you can access other properies of the network such as <code class="language-plaintext highlighter-rouge">s21</code>, <code class="language-plaintext highlighter-rouge">s12</code> or <code class="language-plaintext highlighter-rouge">s22</code>. If you have a network that is greater than two ports, you can still access any arbitrary network parameter using this representation, which is rather handy.</p><p>If you prefer to use an index-like represention for the s-parameter network object, then you can access the individual network parameters using indices within square brackets. In this form, the index is referenced to one, to resemble the representation of s-parameter indices. For example, use indices of <code class="language-plaintext highlighter-rouge">[1,1]</code> if you want to get \(S_{11}\). It is easy to verify that this method of 1-port network representation is the same as representing it as a property of the multi-port network as shown earlier. The choice of representation is simply a matter of coding style and personal preference.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="c1"># 1-port objects using index representation
</span><span class="n">s11</span> <span class="o">=</span> <span class="n">nw</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="k">print</span><span class="p">(</span><span class="n">nw</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">nw</span><span class="p">.</span><span class="n">s11</span><span class="p">)</span>
</pre></table></code></div></div><p>Output:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>True
</pre></table></code></div></div><p>So, why should we keep these 1-port networks as objects? The reason is to access the built-in methods of the <code class="language-plaintext highlighter-rouge">Network()</code> class that allow plotting, transformations and data export. We will look at some of these methods and attributes in this chapter, and discuss plotting as a separate topic later. You can take a quick look at the methods available to any object in python by listing them using <code class="language-plaintext highlighter-rouge">dir(nw)</code>, where <code class="language-plaintext highlighter-rouge">nw</code> is the network object whose available methods we want to view.</p><h1 id="manipulating-numpy-arrays">Manipulating Numpy Arrays</h1><p>Since python has a wide range of packages for plotting, statistics and data analysis that use numpy under the hood, you might prefer handling network data as numpy arrays. To do this, you can simply use the <code class="language-plaintext highlighter-rouge">s</code> property of the network object like <code class="language-plaintext highlighter-rouge">nw.s</code>. We already saw that the s-parameter data corresponding to a 2-port network was a \(N\times2\times2\) matrix corresponding to N frequency points. In numpy, matrix data is zero-indexed, so accessing network parameter \(S_{11}\) would require indices of <code class="language-plaintext highlighter-rouge">[0,0]</code>. Here is an example:</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="c1"># accessing network data as numpy arrays with zero-referenced indices
</span><span class="n">s11</span> <span class="o">=</span> <span class="n">nw</span><span class="p">.</span><span class="n">s</span><span class="p">[:,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># for S11
</span><span class="n">s21</span> <span class="o">=</span> <span class="n">nw</span><span class="p">.</span><span class="n">s</span><span class="p">[:,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># for S21
</span></pre></table></code></div></div><p>You might notice that <code class="language-plaintext highlighter-rouge">nw.s</code> gives you numpy arrays but <code class="language-plaintext highlighter-rouge">nw.s11</code> gives you a network object. If you already have 1-port network objects extracted from a multi-port network object, as described earlier, then you can convert them to numpy arrays as follows.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="c1"># converting a 1-port network object into a numpy array
</span><span class="n">s11</span> <span class="o">=</span> <span class="n">nw</span><span class="p">.</span><span class="n">s11</span><span class="p">.</span><span class="n">s</span><span class="p">.</span><span class="n">squeeze</span><span class="p">()</span>

<span class="c1"># or equivalently,
</span><span class="n">s11</span> <span class="o">=</span> <span class="n">nw</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">].</span><span class="n">s</span><span class="p">.</span><span class="n">squeeze</span><span class="p">()</span>
</pre></table></code></div></div><p>Why did we need to use numpy’s <code class="language-plaintext highlighter-rouge">squeeze()</code> method? Converting a 1-port network object into a numpy array using <code class="language-plaintext highlighter-rouge">nw.s11.s</code> results in a \(N\times1\times1\) array, where N is the number of frequency points. The <code class="language-plaintext highlighter-rouge">squeeze()</code> method collapses the matrix dimensions to give a 1-dimensional numpy array of size N, corresponding to N frequency points.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="c1"># check shape of 1-port s-parameter
</span><span class="k">print</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">shape</span><span class="p">(</span><span class="n">nw</span><span class="p">.</span><span class="n">s11</span><span class="p">.</span><span class="n">s</span><span class="p">))</span>

<span class="c1"># after squeeze()
</span><span class="k">print</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">shape</span><span class="p">(</span><span class="n">nw</span><span class="p">.</span><span class="n">s11</span><span class="p">.</span><span class="n">s</span><span class="p">.</span><span class="n">squeeze</span><span class="p">()))</span>
</pre></table></code></div></div><p>Output:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>(91, 1, 1)
(91,)
</pre></table></code></div></div><h1 id="alternate-2-port-network-parameters">Alternate 2-port Network Parameters</h1><p>So far, we have only looked at s-parameter matrices. With scikit-rf, you can easily convert to other <a href="http://en.wikipedia.org/wiki/Two-port_network">two-port network parameters</a> such Y, Z, H, T and ABCD matrices by accessing the appropriate property of the network object as shown below. The result is a numpy array of size \(N\times2\times2\), for a 2-port network with N frequency points.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="c1"># conversion to other network parameters
</span><span class="n">y</span> <span class="o">=</span> <span class="n">nw</span><span class="p">.</span><span class="n">y</span> <span class="c1"># admittance y-parameters
</span><span class="n">z</span> <span class="o">=</span> <span class="n">nw</span><span class="p">.</span><span class="n">z</span> <span class="c1"># impedance z-parameters
</span><span class="n">h</span> <span class="o">=</span> <span class="n">nw</span><span class="p">.</span><span class="n">h</span> <span class="c1"># hybrid h-parameters
</span><span class="n">t</span> <span class="o">=</span> <span class="n">nw</span><span class="p">.</span><span class="n">t</span> <span class="c1"># transfer t-parameters
</span><span class="n">a</span> <span class="o">=</span> <span class="n">nw</span><span class="p">.</span><span class="n">a</span> <span class="c1"># cascade ABCD-parameters
</span></pre></table></code></div></div><p>If you need to convert between parameters, you can use the conversion functions available from the scikit-rf module. For example,</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="c1"># conversion between network parameters
</span><span class="n">zn</span> <span class="o">=</span> <span class="n">rf</span><span class="p">.</span><span class="n">y2z</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="c1"># convert y to z
</span><span class="n">sn</span> <span class="o">=</span> <span class="n">rf</span><span class="p">.</span><span class="n">z2s</span><span class="p">(</span><span class="n">zn</span><span class="p">,</span> <span class="n">z0</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span> <span class="c1"># convert z to s, z0 = 50 ohm (default)
</span></pre></table></code></div></div><p>Although many commonly used conversion functions exist, some don’t. For instance, <code class="language-plaintext highlighter-rouge">yn = rf.t2y(nw.t)</code> will result in a <code class="language-plaintext highlighter-rouge">NotImplementedError</code>. In such cases, you will need to code your own conversion functions which you can <a href="https://github.com/scikit-rf/scikit-rf/wiki/Development">contribute</a> to the project by creating a pull request.</p><h1 id="handling-data-formats">Handling Data Formats</h1><p>Network data is stored as complex numbers in numpy arrays and you can easily convert it to magnitude-phase, real-imaginary or decibel representations using scikit-rf without having to manipulate data using numpy methods. For example, if you want \(S_{21}\) in dB, access the <code class="language-plaintext highlighter-rouge">s_db</code> attribute of the network object and slice the numpy matrix using indices to get \(S_{21}\).</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="c1"># accessing network data in db units
</span><span class="n">s21_in_db</span> <span class="o">=</span> <span class="n">nw</span><span class="p">.</span><span class="n">s_db</span><span class="p">[:,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
</pre></table></code></div></div><p>Alternatively, you can get the same result by extracting a 1-port network object <code class="language-plaintext highlighter-rouge">s21</code> and getting the <code class="language-plaintext highlighter-rouge">s_db</code> property from that object. We will have to <code class="language-plaintext highlighter-rouge">squeeze()</code> this numpy array to collapse the matrix into a linear array. Here is how that is done.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="c1"># accessing network data in different units
</span><span class="n">s21_in_db</span> <span class="o">=</span> <span class="n">nw</span><span class="p">.</span><span class="n">s21</span><span class="p">.</span><span class="n">s_db</span><span class="p">.</span><span class="n">squeeze</span><span class="p">()</span>
</pre></table></code></div></div><p>You can easily verify that the two representations show above give the same result. That is, \(S_{21}\) in decibel units.</p><p>It is also simple to extract other network parameters similarly. Let’s say you want to look at \(Y_{11}\) which is often used in inductance extractions, it is straightforward to plot quality factor of an inductor using the <code class="language-plaintext highlighter-rouge">y_re</code> and <code class="language-plaintext highlighter-rouge">y_im</code> properties of the network object.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="c1"># Q factor example
</span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="n">Q</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nb">abs</span><span class="p">(</span><span class="n">nw</span><span class="p">.</span><span class="n">y_im</span><span class="p">[:,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="n">nw</span><span class="p">.</span><span class="n">y_re</span><span class="p">[:,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">np.abs</code> takes the absolute value of a quantity using the function available in the numpy package.</p><p>To see the available attributes for handling data formats in scikit-rf, you can use the <code class="language-plaintext highlighter-rouge">dir()</code> function to list the directory of available methods in the network object, but narrowed down to only the ones that are relevant to s-parameters by filtering out those that start with <code class="language-plaintext highlighter-rouge">s_</code>.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="c1"># find attributes to handle data formats for s-parameters
</span><span class="n">attr</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="n">nw</span><span class="p">)</span> <span class="k">if</span> <span class="n">f</span><span class="p">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">'s_'</span><span class="p">)]</span>
<span class="k">print</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span>
</pre></table></code></div></div><p>Output:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>['s_active', 's_arcl', 's_arcl_unwrap', 's_db', 's_db10', 's_def', 's_deg', 's_deg_unwrap', 's_im', 's_invert', 's_mag', 's_rad', 's_rad_unwrap', 's_re', 's_time', 's_time_db', 's_time_impulse', 's_time_mag', 's_time_step', 's_vswr']
</pre></table></code></div></div><p>Here you find other functions and attributes that you can use to handle your network data. For example, <code class="language-plaintext highlighter-rouge">s_vswr</code> directly plots your reflection coefficents as a VWSR (voltage standing wave ratio). You can plot the phase of your complex data in degrees (<code class="language-plaintext highlighter-rouge">s_deg</code>) or radians (<code class="language-plaintext highlighter-rouge">s_rad</code>), with the option to unwrap phase data beyond the -180\(^\circ\) to 180\(^\circ\) limits (<code class="language-plaintext highlighter-rouge">s_deg_unwrap</code>). You can also extract arclength (<code class="language-plaintext highlighter-rouge">s_arcl</code>), inverted s-parameters (<code class="language-plaintext highlighter-rouge">s_invert</code>), active s-parameters with a given port excitation (<code class="language-plaintext highlighter-rouge">s_active</code>) or a variety of time domain parameters (<code class="language-plaintext highlighter-rouge">s_time_*</code>).</p><p>You can similarly list out the directory of methods for other network parameters if required, like those starting with <code class="language-plaintext highlighter-rouge">y_</code> or <code class="language-plaintext highlighter-rouge">z_</code>.</p><p>You now have a grasp on wrangling network data to your own advantage! With all network parameters under your control in the units that you want, you are ready to perform computations on the network data, or simply plot them against a frequency axis. We looked at subsets of network data in this post, but in the next one, we will look at extracting a subset of the frequency data for network analysis.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/python/'>Python</a>, <a href='/categories/scikit-rf/'>scikit-rf</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/programming/" class="post-tag no-text-decoration" >programming</a></div><link href="//cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css" rel="stylesheet" type="text/css"><style type="text/css"> #mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; width:100%;} /* Add your own Mailchimp form style overrides in your site stylesheet or in this style block. We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */</style><div id="mc_embed_signup"> <form action="https://gmail.us7.list-manage.com/subscribe/post?u=5b91d6251ddd300206c378aa1&amp;id=090f8921e2" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate><div id="mc_embed_signup_scroll"> <label for="mce-EMAIL">Get notified when a new article is posted!</label> <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required><div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_5b91d6251ddd300206c378aa1_090f8921e2" tabindex="-1" value=""></div><div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div></div></form></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Scikit-RF Tutorial (3) - Manipulating Networks - rfic.io&url=https://vik-s.github.io/posts/Manipulating-Networks/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Scikit-RF Tutorial (3) - Manipulating Networks - rfic.io&u=https://vik-s.github.io/posts/Manipulating-Networks/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://vik-s.github.io/posts/Manipulating-Networks/" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/ScikitRF-Get-Started/">Scikit-RF Tutorial (1) - Getting Started</a><li><a href="/posts/The-Network-Class/">Scikit-RF Tutorial (2) - The Network() Class</a><li><a href="/posts/Manipulating-Networks/">Scikit-RF Tutorial (3) - Manipulating Networks</a><li><a href="/posts/Frequency-Slicing/">Scikit-RF Tutorial (4) - Frequency Slicing</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/programming/">programming</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/ScikitRF-Get-Started/"><div class="card-body"> <span class="timeago small" > Jan 4 <i class="unloaded">2021-01-04T19:39:10-08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Scikit-RF Tutorial (1) - Getting Started</h3><div class="text-muted small"><p> Welcome! This post is the first of a series of blog posts on RF and microwave analysis using python. At first, I thought I will design this to be a course with a limited number of modules, but as I...</p></div></div></a></div><div class="card"> <a href="/posts/The-Network-Class/"><div class="card-body"> <span class="timeago small" > Jan 9 <i class="unloaded">2021-01-09T20:40:20-08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Scikit-RF Tutorial (2) - The Network() Class</h3><div class="text-muted small"><p> In this article, we will look into the fundamentals of the Network() class. It is a fundamental building block of the scikit-rf package, and we will use it repeatedly to wrangle rf network data. Le...</p></div></div></a></div><div class="card"> <a href="/posts/Frequency-Slicing/"><div class="card-body"> <span class="timeago small" > Jan 17 <i class="unloaded">2021-01-17T22:30:15-08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Scikit-RF Tutorial (4) - Frequency Slicing</h3><div class="text-muted small"><p> In the fourth post of this series, we will focus on reducing the network data to a smaller subset of frequencies. For your reference, here is a list of articles in this series. Getting Started ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/The-Network-Class/" class="btn btn-outline-primary"><p>Scikit-RF Tutorial (2) - The Network() Class</p></a> <a href="/posts/Frequency-Slicing/" class="btn btn-outline-primary"><p>Scikit-RF Tutorial (4) - Frequency Slicing</p></a></div></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('#post-wrapper img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://twitter.com/vikramskr">Vikram Sekar</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy/" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/programming/">programming</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://vik-s.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script> # buymeacofee widget <script data-name="BMC-Widget" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="vikramskr" data-description="Support me on Buy me a coffee!" data-message="Like this blog? Buy me a coffee!" data-color="#ff813f" data-position="Right" data-x_margin="18" data-y_margin="18"> </script>
