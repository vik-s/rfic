<!DOCTYPE html><html lang="en" mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="theme" content="Chirpy v2.6.2"><meta name="generator" content="Jekyll v4.1.1" /><meta property="og:title" content="Scikit-RF Tutorial (2) - The Network() Class" /><meta name="author" content="Vikram Sekar" /><meta property="og:locale" content="en_US" /><meta name="description" content="In this article, we will look into the fundamentals of the Network() class. It is a fundamental building block of the scikit-rf package, and we will use it repeatedly to wrangle rf network data. Learning to work with objects derived from this class will go a long way in getting proficient with the use of this python package." /><meta property="og:description" content="In this article, we will look into the fundamentals of the Network() class. It is a fundamental building block of the scikit-rf package, and we will use it repeatedly to wrangle rf network data. Learning to work with objects derived from this class will go a long way in getting proficient with the use of this python package." /><link rel="canonical" href="https://vik-s.github.io/posts/The-Network-Class/" /><meta property="og:url" content="https://vik-s.github.io/posts/The-Network-Class/" /><meta property="og:site_name" content="rfic.io" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-01-09T20:40:20-08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Scikit-RF Tutorial (2) - The Network() Class" /><meta name="twitter:site" content="@vikramskr" /><meta name="twitter:creator" content="@Vikram Sekar" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"description":"In this article, we will look into the fundamentals of the Network() class. It is a fundamental building block of the scikit-rf package, and we will use it repeatedly to wrangle rf network data. Learning to work with objects derived from this class will go a long way in getting proficient with the use of this python package.","url":"https://vik-s.github.io/posts/The-Network-Class/","@type":"BlogPosting","headline":"Scikit-RF Tutorial (2) - The Network() Class","dateModified":"2021-02-07T06:27:34-08:00","datePublished":"2021-01-09T20:40:20-08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://vik-s.github.io/posts/The-Network-Class/"},"author":{"@type":"Person","name":"Vikram Sekar"},"@context":"https://schema.org"}</script><title>Scikit-RF Tutorial (2) - The Network() Class | rfic.io</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="preload" href="/assets/css/post.css" as="style"><link rel="stylesheet" href="/assets/css/post.css"><link rel="preload" as="style" href="/assets/css/lib/bootstrap-toc.min.css"><link rel="stylesheet" href="/assets/css/lib/bootstrap-toc.min.css" /> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="/assets/js/post.min.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-DK37RLC614"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-DK37RLC614'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column"><div id="nav-wrapper"><div id="profile-wrapper" class="d-flex flex-column"><div id="avatar" class="d-flex justify-content-center"> <a href="/" alt="avatar"> <img src="/assets/img/sample/logo.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="profile-text mt-3"><div class="site-title"> <a href="/">rfic.io</a></div><div class="site-subtitle font-italic">A blog on RF engineering.</div></div></div><ul class="nav flex-column"><li class="nav-item d-flex justify-content-center "> <a href="/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/categories/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/tags/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/archives/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/about/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul></div><div class="sidebar-bottom d-flex flex-wrap justify-content-around mt-4"> <a href="https://github.com/vik-s" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/vikramskr" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['contact','rfic.io'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Scikit-RF Tutorial (2) - The Network() Class</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Scikit-RF Tutorial (2) - The Network() Class</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sat, Jan 9, 2021, 8:40 PM -0800" > Jan 9 <i class="unloaded">2021-01-09T20:40:20-08:00</i> </span> by <span class="author"> Vikram Sekar </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Sun, Feb 7, 2021, 6:27 AM -0800" > Feb 7 <i class="unloaded">2021-02-07T06:27:34-08:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1509 words">8 min</span></div></div><div class="post-content"><p>In this article, we will look into the fundamentals of the <code class="language-plaintext highlighter-rouge">Network()</code> class. It is a fundamental building block of the scikit-rf package, and we will use it repeatedly to wrangle rf network data. Learning to work with objects derived from this class will go a long way in getting proficient with the use of this python package.</p><p>For your reference, here is a list of articles in this series.</p><ol><li><a href="/posts/ScikitRF-Get-Started/">Getting Started</a><li><a href="/posts/The-Network-Class/">The Network() Class</a> (this article)<li><a href="/posts/Manipulating-Networks/">Manipulating Networks</a><li><a href="/posts/Frequency-Slicing/">Frequency Slicing</a><li><a href="/posts/Plotting/">Plotting</a></ol><p>For the uninitiated, a <a href="https://en.wikipedia.org/wiki/Class_(computer_programming)">class</a> is a template which contains pre-defined data structures, initial values and functions or methods defining a sequence of programming operations. In scikit-rf, the <code class="language-plaintext highlighter-rouge">Network()</code> class is a collection of attributes and functions available for handling RF network data. To perform data analysis and manipulations on networks, we must first create a network object, which is an instance of the <code class="language-plaintext highlighter-rouge">Network()</code> class.</p><p>The construction of a network object depends on where the network s-parameter data is available to begin with. Network data can be found in several file formats such as the generalized <a href="http://www.ibis.org/touchstone_ver2.0/touchstone_ver2_0.pdf">Touchstone</a> format, Pathwave (formerly Keysight) specific formats such as MDIF/CITI (Advanced Design System), or MDL/MDM (ICCAP), MAT files from Matlab, or simply comma-separated values CSV files. Scikit-rf supports direct import of touchstone files into a network object data structure. For other formats, you will need to cast the data into <a href="https://numpy.org/">numpy</a> arrays or touchstone files before building the network object. Therefore, we will also look at the creation of network objects from numpy arrays.</p><h1 id="network-objects-from-touchstone">Network Objects from Touchstone</h1><p>This is the most straightforward way to create a network object. Touchstone data is commonly available from RF simulation software or from vector network analyser (VNA) measurements. Here is an example that loads the touchstone file into a network object:</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="c1"># get the example data file path in skrf
# you can add a path to your own file instead
</span><span class="kn">import</span> <span class="nn">skrf</span> <span class="k">as</span> <span class="n">rf</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="n">skrfpath</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">rf</span><span class="p">.</span><span class="n">__file__</span><span class="p">)</span>
<span class="n">datafile</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">skrfpath</span><span class="p">,</span> <span class="s">'data'</span><span class="p">,</span> <span class="s">'ntwk1.s2p'</span><span class="p">)</span>

<span class="c1"># create a network object with
# rf.Network(/path/to/filename.s2p)
</span><span class="n">nw</span> <span class="o">=</span> <span class="n">rf</span><span class="p">.</span><span class="n">Network</span><span class="p">(</span><span class="n">datafile</span><span class="p">)</span>

<span class="c1"># print it
</span><span class="k">print</span><span class="p">(</span><span class="n">nw</span><span class="p">)</span>
</pre></table></code></div></div><p>Output:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>2-Port Network: 'ntwk1',  1.0-10.0 GHz, 91 pts, z0=[50.+0.j 50.+0.j]
</pre></table></code></div></div><p>The path to the n-port touchstone file (*.snp) is passed as an argument in the creation of the network object <code class="language-plaintext highlighter-rouge">nw</code>. In this example, we use an example touchstone file <code class="language-plaintext highlighter-rouge">ntwk1.s2p</code> included with scikit-rf package, and so the first few lines of code are meant to access that. If you have an s-parameter file in the same path as your jupyter-notebook is saved, you can just pass the <code class="language-plaintext highlighter-rouge">filename.sNp</code> file as an argument. We are using two-port networks here for simplicity; you can load a file with more ports if you like. Each network object has a name (<code class="language-plaintext highlighter-rouge">ntwk1</code> in this case) associated with it for convenient identification of the dataset.</p><h1 id="network-objects-from-numpy-arrays">Network Objects from numpy Arrays</h1><p>If you already have the network data available to you in the form of numpy arrays, either from computations, csv files, or custom parsing routines, you can use it to create a network object. If you have data in csv format, you can use the built-in <a href="https://numpy.org/doc/stable/reference/generated/numpy.loadtxt.html">loadtxt()</a> or <a href="https://numpy.org/doc/stable/reference/generated/numpy.genfromtxt.html#numpy.genfromtxt">genfromtxt()</a> methods in numpy to load comma separated values into numpy arrays.</p><p>Let us build a two-port network from numpy arrays. For this network, we have complex-valued numpy arrays for each of the s-parameters <code class="language-plaintext highlighter-rouge">s11</code>, <code class="language-plaintext highlighter-rouge">s12</code>, <code class="language-plaintext highlighter-rouge">s21</code> and <code class="language-plaintext highlighter-rouge">s22</code>. For the sake of this example, these are randomly generated complex numbers. Each of these quantities are of length N, corresponding to N frequency points <code class="language-plaintext highlighter-rouge">f</code>, expressed in Hertz. Here, we generate <code class="language-plaintext highlighter-rouge">N=91</code> frequency points equally spaced between 1 and 10 GHz, and corresponding s-parameters of the same length. The steps to create a network object from this information are:</p><ul><li>Create a \(2\times2\) s-parameter matrix <code class="language-plaintext highlighter-rouge">si</code> at a given frequency <code class="language-plaintext highlighter-rouge">i</code><li>For each frequency, stack the s-parameter matrix along the third dimension at create a \(2\times2\times N\) matrix<li>Reshape the s-parameter matrix into an \(N\times2\times2\) matrix<li>Create the network object by converting frequency into GHz units</ul><p>Python code to implement these steps is as follows.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre><td class="rouge-code"><pre><span class="c1"># constructing a network object from numpy arrays
</span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>

<span class="c1"># 91 points of random complex numbers for s-parameters
</span><span class="n">s11</span> <span class="o">=</span> <span class="n">s12</span> <span class="o">=</span> <span class="n">s21</span> <span class="o">=</span> <span class="n">s22</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">91</span><span class="p">)</span><span class="o">+</span><span class="mf">1j</span><span class="o">*</span><span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">91</span><span class="p">)</span>
<span class="c1"># 91 frequency points between 1 and 10 GHz
</span><span class="n">f</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">91</span><span class="p">)</span><span class="o">*</span><span class="mf">1e9</span>

<span class="c1"># define a 2x2 s-matrix at a given frequency
</span><span class="k">def</span> <span class="nf">si</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
    <span class="s">''' s-matrix at frequency i'''</span>
    <span class="k">return</span> <span class="n">np</span><span class="p">.</span><span class="n">array</span><span class="p">(([</span><span class="n">s11</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">s12</span><span class="p">[</span><span class="n">i</span><span class="p">]],</span>
                     <span class="p">[</span><span class="n">s21</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">s22</span><span class="p">[</span><span class="n">i</span><span class="p">]]),</span>
                    <span class="n">dtype</span><span class="o">=</span><span class="s">'complex'</span><span class="p">)</span>

<span class="c1"># number of frequency points
</span><span class="n">N</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">size</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

<span class="c1"># stack matrices along 3rd axis to create (2x2xN) array
</span><span class="n">s</span> <span class="o">=</span> <span class="n">si</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">N</span><span class="p">):</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">dstack</span><span class="p">([</span><span class="n">s</span><span class="p">,</span><span class="n">si</span><span class="p">(</span><span class="n">i</span><span class="p">)])</span>

<span class="c1"># re-shape into (Nx2x2)
</span><span class="n">s</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">swapaxes</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># create network object with frequency converted to GHz units
</span><span class="n">nw2</span> <span class="o">=</span> <span class="n">rf</span><span class="p">.</span><span class="n">Network</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'nw_from_numpy'</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="n">s</span><span class="p">,</span><span class="n">frequency</span><span class="o">=</span><span class="n">f</span><span class="o">*</span><span class="mf">1e-9</span><span class="p">,</span> <span class="n">z0</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">nw2</span><span class="p">)</span>
</pre></table></code></div></div><p>Output:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>2-Port Network: 'nw_from_numpy',  1.0-10.0 GHz, 91 pts, z0=[50.+0.j 50.+0.j]
</pre></table></code></div></div><p>Thats it! You now have network objects you can work with. The network object has frequency information, network data and reference impedances for each port, along with a wide variety of calculation and plotting functions that we will get into shortly. For now it suffices to say that the <code class="language-plaintext highlighter-rouge">Network()</code> class internally handles the data parsed from the touchstone file as complex numpy arrays.</p><p>Frequency units and reference impedances are important when defining network objects and naming network objects is useful when generating plot labels. Let us take a look at these topics next.</p><h1 id="frequency-units">Frequency Units</h1><p>In the network object constructions so far, notice that we did not have to worry about frequency units when building the network object from a touchstone file. This is because the frequency units are automatically set from the touchstone header file which defines it. However, when we built a network object from numpy arrays, we needed to convert it to GHz units because frequency units have a default value of GHz unless specified otherwise.</p><p>In our example with numpy arrays, we know that the frequency array <code class="language-plaintext highlighter-rouge">f</code> goes from 1 to 10 GHz with 91 steps in between. We can explicitly create an instance of the <code class="language-plaintext highlighter-rouge">Frequency()</code> class - a frequency object <code class="language-plaintext highlighter-rouge">f_obj</code> - with this information, as shown below.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="c1"># manually create frequency object
</span><span class="n">f_obj</span> <span class="o">=</span> <span class="n">rf</span><span class="p">.</span><span class="n">Frequency</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">91</span><span class="p">,</span> <span class="s">'ghz'</span><span class="p">)</span>
</pre></table></code></div></div><p>In many cases this is not a practical way to generate a frequency object. When the frequencies are unknown or the frequency spacing is uneven, you can construct a frequency object using the <code class="language-plaintext highlighter-rouge">from_f()</code> function, where we specify the frequency array <code class="language-plaintext highlighter-rouge">f</code> and the units of the array <code class="language-plaintext highlighter-rouge">hz</code> (remember that the original frequency units were Hertz) as the arguments of the function.</p><p>Finally, during the construction of the network object, the frequency object <code class="language-plaintext highlighter-rouge">f_obj</code> can be used as the frequency argument instead of the numpy array <code class="language-plaintext highlighter-rouge">f</code> as shown earlier.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="c1"># create frequency object from numpy array
</span><span class="n">f_obj</span> <span class="o">=</span> <span class="n">rf</span><span class="p">.</span><span class="n">Frequency</span><span class="p">.</span><span class="n">from_f</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s">'hz'</span><span class="p">)</span>

<span class="c1"># create network object using frequency object
</span><span class="n">nw3</span> <span class="o">=</span> <span class="n">rf</span><span class="p">.</span><span class="n">Network</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'nw_from_fobj'</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="n">s</span><span class="p">,</span><span class="n">frequency</span><span class="o">=</span><span class="n">f_obj</span><span class="p">,</span> <span class="n">z0</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>

<span class="c1"># print it
</span><span class="k">print</span><span class="p">(</span><span class="n">nw3</span><span class="p">)</span>
</pre></table></code></div></div><p>Output:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>2-Port Network: 'nw_from_fobj',  1000000000.0-10000000000.0 Hz, 91 pts, z0=[50.+0.j 50.+0.j]
</pre></table></code></div></div><p>Notice that the units in the network object we just created are Hz, just like we defined in the frequency object. This is in contrast to the GHz units of the network object created from the touchstone file example.</p><h1 id="network-object-naming">Network Object Naming</h1><p>When we created the network object from a touchstone file, its name is assigned to be the name of the touchstone file. When creating a network object from numpy arrays, we specificed the name using the <code class="language-plaintext highlighter-rouge">name</code> argument. If you need to change the name of any object, you simply assign a new string value to the <code class="language-plaintext highlighter-rouge">name</code> attribute of the network object, like this:</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="c1"># changing object name
</span><span class="n">nw3</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">'new_name'</span>

<span class="c1"># print it
</span><span class="k">print</span><span class="p">(</span><span class="n">nw3</span><span class="p">)</span>
</pre></table></code></div></div><p>Output:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>2-Port Network: 'new_name',  1000000000.0-10000000000.0 Hz, 91 pts, z0=[50.+0.j 50.+0.j]
</pre></table></code></div></div><p>Assigning names to network objects is helpful because plot labels are automatically generated for data plotted from these network objects. We will see this when we delve into plotting with scikit-rf.</p><h1 id="reference-impedances">Reference Impedances</h1><p>The argument <code class="language-plaintext highlighter-rouge">z0</code> passed during network object creation is the reference impedance for s-parameters. When a single number is specified, all ports are in the N-port network as assigned the same reference impedance <code class="language-plaintext highlighter-rouge">z0</code>. There may be occasions where one or several ports have different termination impedances. To specify different reference impedances at each port, <code class="language-plaintext highlighter-rouge">z0</code> can also be a list of impedances corresponding to each port as <code class="language-plaintext highlighter-rouge">z0=[z01, z01, ..., z0N]</code>. Each reference impedance can be a real or a complex numner.</p><p>This ends the second part of this tutorial series! We created basic network objects from a few different data sources, and learned how to handle frequency units, naming and reference impedances. These network objects serve as building blocks for the next tutorial where we will discuss manipulation of network data using these objects.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/python/'>Python</a>, <a href='/categories/scikit-rf/'>scikit-rf</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/programming/" class="post-tag no-text-decoration" >programming</a></div><link href="//cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css" rel="stylesheet" type="text/css"><style type="text/css"> #mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; width:100%;} /* Add your own Mailchimp form style overrides in your site stylesheet or in this style block. We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */</style><div id="mc_embed_signup"> <form action="https://gmail.us7.list-manage.com/subscribe/post?u=5b91d6251ddd300206c378aa1&amp;id=090f8921e2" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate><div id="mc_embed_signup_scroll"> <label for="mce-EMAIL">Get notified when a new article is posted!</label> <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required><div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_5b91d6251ddd300206c378aa1_090f8921e2" tabindex="-1" value=""></div><div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div></div></form></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Scikit-RF Tutorial (2) - The Network() Class - rfic.io&url=https://vik-s.github.io/posts/The-Network-Class/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Scikit-RF Tutorial (2) - The Network() Class - rfic.io&u=https://vik-s.github.io/posts/The-Network-Class/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://vik-s.github.io/posts/The-Network-Class/" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/ScikitRF-Get-Started/">Scikit-RF Tutorial (1) - Getting Started</a><li><a href="/posts/The-Network-Class/">Scikit-RF Tutorial (2) - The Network() Class</a><li><a href="/posts/Manipulating-Networks/">Scikit-RF Tutorial (3) - Manipulating Networks</a><li><a href="/posts/Frequency-Slicing/">Scikit-RF Tutorial (4) - Frequency Slicing</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/programming/">programming</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/ScikitRF-Get-Started/"><div class="card-body"> <span class="timeago small" > Jan 4 <i class="unloaded">2021-01-04T19:39:10-08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Scikit-RF Tutorial (1) - Getting Started</h3><div class="text-muted small"><p> Welcome! This post is the first of a series of blog posts on RF and microwave analysis using python. At first, I thought I will design this to be a course with a limited number of modules, but as I...</p></div></div></a></div><div class="card"> <a href="/posts/Manipulating-Networks/"><div class="card-body"> <span class="timeago small" > Jan 14 <i class="unloaded">2021-01-14T21:06:10-08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Scikit-RF Tutorial (3) - Manipulating Networks</h3><div class="text-muted small"><p> In the previous post in this series, we saw how network objects are created from various data sources. In the third article of this series, we look at extracting a subset of the network data, like ...</p></div></div></a></div><div class="card"> <a href="/posts/Frequency-Slicing/"><div class="card-body"> <span class="timeago small" > Jan 17 <i class="unloaded">2021-01-17T22:30:15-08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Scikit-RF Tutorial (4) - Frequency Slicing</h3><div class="text-muted small"><p> In the fourth post of this series, we will focus on reducing the network data to a smaller subset of frequencies. For your reference, here is a list of articles in this series. Getting Started ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/ScikitRF-Get-Started/" class="btn btn-outline-primary"><p>Scikit-RF Tutorial (1) - Getting Started</p></a> <a href="/posts/Manipulating-Networks/" class="btn btn-outline-primary"><p>Scikit-RF Tutorial (3) - Manipulating Networks</p></a></div></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('#post-wrapper img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://twitter.com/vikramskr">Vikram Sekar</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy/" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/programming/">programming</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://vik-s.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script> # buymeacofee widget <script data-name="BMC-Widget" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="vikramskr" data-description="Support me on Buy me a coffee!" data-message="Like this blog? Buy me a coffee!" data-color="#ff813f" data-position="Right" data-x_margin="18" data-y_margin="18"> </script>
